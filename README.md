# AI ChatBot - Flutter Mobile Application

A modern, feature-rich AI ChatBot mobile application built with Flutter 3.x, featuring clean architecture, premium subscriptions, and comprehensive AI integration.

## 🚀 Features

### Core Features
- **AI Chat Interface**: ChatGPT-style conversation interface with streaming responses
- **Multi-Platform AI Support**: OpenAI GPT-4 and Google Gemini integration
- **Real-time Messaging**: Live chat with typing indicators and message streaming
- **File Upload Support**: Images, PDFs, and documents with AI analysis
- **Voice & Multimodal**: Support for voice messages and image recognition

### Authentication & User Management
- **Firebase Authentication**: Email/password and Google Sign-In
- **User Profiles**: Comprehensive profile management with avatar support
- **Email Verification**: Secure account verification system
- **Password Management**: Password reset and change functionality

### Subscription System
- **Free Plan**: 10 messages per day with basic features
- **Premium Plan**: Unlimited messages with advanced AI models
- **Premium Plus**: All features including custom AI personalities
- **Stripe Integration**: Secure payment processing with subscription management
- **Usage Tracking**: Real-time usage statistics and limits monitoring

### Modern UI/UX
- **Material 3 Design**: Latest Material Design with dynamic theming
- **Dark/Light Themes**: Automatic and manual theme switching
- **Responsive Layout**: Optimized for phones, tablets, and desktop
- **Smooth Animations**: Lottie animations and Hero transitions
- **Multi-language Support**: English, Arabic, and Kurdish localization

### Technical Excellence
- **Clean Architecture**: Domain-Data-Presentation layer separation
- **Riverpod State Management**: Type-safe and scalable state management
- **GoRouter Navigation**: Declarative routing with deep linking
- **Comprehensive Testing**: Unit tests for core functionality
- **Error Handling**: Robust error handling with user-friendly messages

## 📱 Screenshots

*(Add screenshots here)*

## 🛠 Tech Stack

- **Framework**: Flutter 3.x
- **State Management**: Riverpod
- **Architecture**: Clean Architecture (MVVM/BLoC)
- **Database**: Firebase Firestore
- **Authentication**: Firebase Auth
- **Storage**: Firebase Storage
- **Payments**: Stripe
- **AI APIs**: OpenAI GPT-4, Google Gemini
- **Navigation**: GoRouter
- **Animations**: Lottie, Flutter Animate
- **Testing**: Unit & Widget Tests

## 🚀 Getting Started

### Prerequisites

- Flutter SDK (3.8.1 or higher)
- Dart SDK (3.0.0 or higher)
- Firebase project
- OpenAI API key
- Google AI Studio API key (for Gemini)
- Stripe account

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/ai-chatbot-flutter.git
   cd ai-chatbot-flutter
   ```

2. **Install dependencies**
   ```bash
   flutter pub get
   ```

3. **Firebase Setup**
   ```bash
   # Install Firebase CLI
   npm install -g firebase-tools
   
   # Login to Firebase
   firebase login
   
   # Install FlutterFire CLI
   dart pub global activate flutterfire_cli
   
   # Configure Firebase for your project
   flutterfire configure
   ```

4. **Environment Configuration**
   
   Create `.env` file in the root directory:
   ```env
   OPENAI_API_KEY=your_openai_api_key
   GEMINI_API_KEY=your_gemini_api_key
   STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
   STRIPE_SECRET_KEY=your_stripe_secret_key
   ```

5. **Firebase Setup**
   - Create a Firebase project
   - Enable Authentication (Email/Password, Google)
   - Create Firestore database
   - Enable Storage
   - Add your app to Firebase project

6. **Stripe Setup**
   - Create Stripe account
   - Get publishable and secret keys
   - Set up webhooks for subscription events
   - Configure products and prices

### Configuration Files

Update the following files with your configurations:

**lib/core/config/app_config.dart**
```dart
static const String openAIApiKey = 'your_openai_api_key';
static const String geminiApiKey = 'your_gemini_api_key';
static const String stripePublishableKey = 'your_stripe_publishable_key';
```

**Firebase Options**
The `firebase_options.dart` file should be automatically generated by FlutterFire CLI.

### Running the App

```bash
# Run on Android
flutter run -d android

# Run on iOS
flutter run -d ios

# Run in debug mode
flutter run --debug

# Run in release mode
flutter run --release
```

## 🏗 Project Structure

```
lib/
├── core/                    # Core functionality
│   ├── config/             # App configuration
│   ├── error/              # Error handling
│   ├── localization/       # Multi-language support
│   ├── routing/            # Navigation and routing
│   └── theme/              # App theming
├── features/               # Feature modules
│   ├── auth/               # Authentication
│   │   ├── data/           # Data layer
│   │   ├── domain/         # Domain layer
│   │   └── presentation/   # UI layer
│   ├── chat/               # Chat functionality
│   ├── profile/            # User profile
│   ├── settings/           # App settings
│   └── subscription/       # Subscription management
├── shared/                 # Shared widgets and utilities
│   ├── widgets/            # Reusable widgets
│   └── utils/              # Utility functions
└── main.dart               # App entry point
```

## 🧪 Testing

Run the test suite:

```bash
# Run all tests
flutter test

# Run tests with coverage
flutter test --coverage

# Run integration tests
flutter drive --target=test_driver/app.dart
```

## 📚 Key Features Setup

### AI Integration

1. **OpenAI Setup**
   - Get API key from OpenAI platform
   - Configure in `lib/features/chat/data/datasources/openai_service.dart`

2. **Google Gemini Setup**
   - Get API key from Google AI Studio
   - Configure in `lib/features/chat/data/datasources/gemini_service.dart`

### Subscription Management

1. **Stripe Products Setup**
   ```bash
   # Create products and prices in Stripe Dashboard
   # Premium Monthly: $9.99/month
   # Premium Plus Monthly: $19.99/month
   # Premium Yearly: $99.99/year (20% discount)
   # Premium Plus Yearly: $199.99/year (20% discount)
   ```

2. **Webhook Configuration**
   - Set up webhook endpoint: `https://yourapi.com/stripe/webhook`
   - Listen for events: `customer.subscription.created`, `customer.subscription.updated`, `invoice.payment_succeeded`

### Firebase Security Rules

**Firestore Rules**
```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users can only access their own data
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Conversations belong to users
    match /conversations/{conversationId} {
      allow read, write: if request.auth != null && 
        request.auth.uid == resource.data.userId;
    }
    
    // Messages belong to conversation owners
    match /messages/{messageId} {
      allow read, write: if request.auth != null;
    }
  }
}
```

**Storage Rules**
```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /users/{userId}/{allPaths=**} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

## 🔧 Development

### Code Style

This project follows Flutter/Dart style guidelines:

```bash
# Format code
dart format .

# Analyze code
dart analyze

# Fix common issues
dart fix --apply
```

### Build Scripts

```bash
# Build APK
flutter build apk --release

# Build iOS
flutter build ios --release

# Build Web
flutter build web --release
```

## 🚀 Deployment

### Android Deployment

1. **Configure signing**
   ```bash
   # Generate keystore
   keytool -genkey -v -keystore ~/key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key
   ```

2. **Update `android/key.properties`**
   ```properties
   storePassword=yourPassword
   keyPassword=yourPassword
   keyAlias=key
   storeFile=key.jks
   ```

3. **Build and deploy**
   ```bash
   flutter build appbundle --release
   ```

### iOS Deployment

1. **Configure in Xcode**
   - Open `ios/Runner.xcworkspace`
   - Configure signing and capabilities
   - Set deployment target

2. **Build and deploy**
   ```bash
   flutter build ios --release
   ```

## 📊 Analytics & Monitoring

- **Firebase Analytics**: User behavior tracking
- **Firebase Crashlytics**: Crash reporting
- **Performance Monitoring**: App performance insights
- **Custom Events**: Feature usage analytics

## 🔐 Security

- **API Key Management**: Secure storage of sensitive keys
- **Input Validation**: Comprehensive input sanitization
- **Authentication**: Multi-factor authentication support
- **Data Encryption**: End-to-end encryption for sensitive data

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📄 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## 📞 Support

- **Email**: support@aichatbot.com
- **Documentation**: [help.aichatbot.com](https://help.aichatbot.com)
- **Issues**: [GitHub Issues](https://github.com/yourusername/ai-chatbot-flutter/issues)

## 🙏 Acknowledgments

- [Flutter Team](https://flutter.dev) for the amazing framework
- [Firebase](https://firebase.google.com) for backend services
- [OpenAI](https://openai.com) for GPT models
- [Google AI](https://ai.google.dev) for Gemini models
- [Stripe](https://stripe.com) for payment processing

---

Made with ❤️ using Flutter